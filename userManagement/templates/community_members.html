{% extends "base.html" %}
{% load sort_tags %}

{% block content %}

<h1>Users in {{user.community.name}}</h1>

<table class="table table-striped table-hover ">
    <thead>
      <tr>
        <th><a href="?{% sort_url 'order_by' 'username' %}">User</a></th>
        <th>Reputation</th>

          {% if admin == 1 %}
          <th></th>
          {% endif %}
      </tr>
    </thead>
    <tbody>
    {% for user in all_users %}
      <tr>
        <td><a href="/user/view/{{ user.id }}/">{{user.username}}</a></td>
          {% if user.reputation  == 0 %}
          <td><i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation > 0 and user.reputation < 1 %}
          <td><i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation  == 1 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation > 1 and user.reputation < 2 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"> </i><i class="fa fa-star-o"> </i><i class="fa fa-star-o"></i></td>

          {% elif user.reputation  == 2 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-o"> </i><i class="fa fa-star-o"> </i><i class="fa fa-star-o"></i></td>

          {% elif user.reputation > 2 and user.reputation < 3 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation  == 3 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-o"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation > 3 and user.reputation < 4 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation  == 4 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-o"></i></td>

          {% elif user.reputation > 4 and user.reputation < 5 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star-half-o"></i></td>

          {% elif user.reputation  == 5 %}
          <td><i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i> <i class="fa fa-star"></i></td>
        {% endif %}
        {% if admin == 1 %}
          <td><button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#ban-{{user.id}}">Ban User</button></td>
                <div id="ban-{{user.id}}" class="modal fade bs-example-modal-sm"  role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
                  <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                            <h4 class="modal-title">ToolShare</h4>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to ban this user? It is a permanent ban.
                        </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <a href="/user/banUser/{{user.id}}/" class="btn btn-primary">Ban User</a>
                      </div>
                    </div>
                  </div>
                </div>
        {% endif %}
      </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}